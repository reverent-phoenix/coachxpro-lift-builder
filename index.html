<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>CoachXPro Lift Builder ‚Äî Integrated Block</title>
<style>
:root{--red:#e10b0b;--gray:#f4f4f4}
#app,*{box-sizing:border-box;font-family:system-ui,sans-serif}
#app{max-width:720px;margin:2rem auto;padding:1rem}
.card{background:var(--gray);border-radius:1rem;padding:1rem;margin-bottom:1.25rem;box-shadow:0 4px 8px rgba(0,0,0,.05)}
.title{font-weight:600;margin-bottom:.5rem}
.options{display:flex;flex-direction:column;gap:.5rem;margin-top:.25rem}
.opt{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:2px solid transparent;border-radius:.75rem;background:#fff;cursor:pointer}
.opt:hover{border-color:var(--red)}
.opt input{accent-color:var(--red)}
.opt input:checked+span{font-weight:600;color:var(--red)}
button.next{width:100%;padding:.75rem;background:var(--red);color:#fff;font-weight:600;border:none;border-radius:.75rem;margin-top:1rem}
button.next:disabled{opacity:.5}
.cat-head{margin:.75rem 0 .25rem;font-weight:600}
.req{font-size:.8rem;opacity:.7}
</style>
</head>
<body>
<div id="app"></div>
<script>
// ===== Arrays =====
const BB_CIRCUITS={
 1:["Rotational Step-Ups","Lunges","Lat Pulldown","Stooped Russian Twists","Good Mornings","DB Toe Touches"],
 2:["Pullovers","Russian Twists (Hay Bales)","Single-Arm Row","Weighted Crunches","Straight-Leg Deadlift","Arm Curls"],
 3:["Seated Shoulder Press","Dips","Push-ups (Feet Elevated)","Back Hypers","Pullups","Standing Russian Twist","Weighted Back Hyper","Hanging Ls"],
 4:["Inverted Row","Military Press","Weighted Back Hyper","Hanging Knee Raises","Overhead Twist","Toe Risers","Crossover Step-Ups","Face Pulls","DB Lateral Flys","Seated Good Morning","V-Sits","Hanging Leg Raise"]
};
const REGIONAL=["RDL","Hip Thrust","Step-Ups","DB Row","Lat Pull-Down","Nordic Curl"];
const BALLISTIC=["Jump Squat","Trap-Bar Jump","Bench Press Throw","Overhead Med-Ball Throw","Split-Jerk Jump"];
const OLYMPIC=["Power Clean","Hang Clean","Power Snatch","Mid-Thigh Clean Pull","Snatch Pull","Clean Pull","Snatch Pull","DB Snatch"];
const STATIC=["Back Squat","Front Squat","Trap-Bar Deadlift","Conventional Deadlift","Split Squat (heavy)","Bench Press","Incline Bench","Weighted Pull-ups","Military Press","Weighted Dips"];
const RS=["Continuous Hurdle Hops","Bounding Series","Single-Leg Pogos","Overhead Back MB Heave"];
const LIFTS={static:STATIC,regional:REGIONAL,olympic:OLYMPIC,ballistic:BALLISTIC,rs:RS};

const SCHEMES={
 RFD:{sets:"5-9",reps:"1-2",pct:"90-100%",rest:"3-5 min"},
 RFDP:{sets:"4-9",reps:"2-4",pct:"70-85%",rest:"2-3 min"},
 BPD:{sets:"4-9",reps:"4-5",pct:"50-65%",rest:"2-3 min"},
 ASD:{sets:"4-8",reps:"1-5",pct:"80-100%",rest:"3-5 min"},
 ASC:{sets:"3-6",reps:"4-8",pct:"60-80%",rest:"2-3 min"},
 BB:{sets:"Circuit",reps:"10-12",pct:"-",rest:"60-90 s"},
 RS:{sets:"3-8",reps:"5-12",pct:"BW-50%",rest:"1-2 min"}
};

const S={};
const app=document.getElementById('app');

function reqTable(phase,sch){
 const r={static:0,regional:0,olympic:0,ballistic:0,rs:0,bb:0};
 switch(phase){
  case 'acc':
    if(['ASD','ASC'].includes(sch)){r.static=1;r.regional=1;}
    if(sch==='BPD')r.olympic=1;
    if(sch==='BB')r.bb=1;
  break;
  case 'trans':
    if(['ASD','ASC'].includes(sch))r.static=1;
    if(['RFDP','RFD'].includes(sch)){r.olympic=1;r.ballistic=1;}
    if(sch==='RS')r.rs=2;
    r.regional=1;
  break;
  case 'real':
    if(['RFD','RFDP'].includes(sch)){r.olympic=1;r.ballistic=1;}
    if(sch==='ASC')r.static=1;
  break;
  case 'main':
    if(sch==='BPD')r.olympic=1;
    if(sch==='RS'){r.ballistic=1;r.rs=1;}
  break;
 }
 return r;
}
function pres(cat,sch){
 if(cat==='regional')return '3x8-10';
 if(cat==='ballistic')return '3x6 fast';
 if(cat==='rs')return SCHEMES.RS.sets+'x'+SCHEMES.RS.reps;
 return SCHEMES[sch].sets+'x'+SCHEMES[sch].reps+' @ '+SCHEMES[sch].pct;
}
function radio(title,opt,key,next){
 const card=document.createElement('div');card.className='card';
 card.innerHTML='<div class="title">'+title+'</div>';
 const box=document.createElement('div');box.className='options';card.appendChild(box);
 opt.forEach(o=>{
  box.insertAdjacentHTML('beforeend',
   `<label class="opt"><input type="radio" name="${key}" value="${o.v}"><span>${o.t}</span></label>`);
 });
 const btn=document.createElement('button');btn.className='next';btn.textContent='Next';btn.disabled=true;card.appendChild(btn);
 card.addEventListener('change',()=>btn.disabled=false);
 btn.onclick=()=>{S[key]=card.querySelector('input:checked').value;next();};
 return card;
}
function picker(req,next){
 const card=document.createElement('div');card.className='card';
 card.innerHTML='<div class="title">5Ô∏è‚É£ Choose your lifts</div>';
 if(req.bb){
   card.insertAdjacentHTML('beforeend','<p>Select a Bodybuilding circuit</p>');
   Object.entries(BB_CIRCUITS).forEach(([n,l])=>{
     card.insertAdjacentHTML('beforeend',
      `<label class="opt"><input type="radio" name="bbc" value="${n}"><span>Circuit #${n}</span></label>`);
   });
 }
 ['static','regional','olympic','ballistic','rs'].forEach(cat=>{
  if(!req[cat])return;
  card.insertAdjacentHTML('beforeend',
    `<div class="cat-head">${cat.toUpperCase()} <span class="req">(choose ${req[cat]})</span></div>`);
  const box=document.createElement('div');box.className='options';card.appendChild(box);
  LIFTS[cat].forEach(l=>{
    box.insertAdjacentHTML('beforeend',
     `<label class="opt"><input type="checkbox" data-cat="${cat}" value="${l}">
       <span><a href="#" target="_blank">${l}</a></span></label>`);
  });
 });
 const btn=document.createElement('button');btn.className='next';btn.textContent='Finish';btn.disabled=true;card.appendChild(btn);
 card.addEventListener('change',()=>{
   let ok=true;
   if(req.bb) ok = !!card.querySelector('[name="bbc"]:checked');
   const counts={};Object.keys(req).forEach(k=>counts[k]=0);
   card.querySelectorAll('input[type="checkbox"]:checked').forEach(cb=>counts[cb.dataset.cat]++);
   ok = ok && Object.keys(req).every(k=>!req[k]||k==='bb'||counts[k]===req[k]);
   btn.disabled=!ok;
 });
 btn.onclick=()=>{
   S.chosen={};
   if(req.bb){
     const n=card.querySelector('[name="bbc"]:checked').value;
     S.chosen.bb = BB_CIRCUITS[n];
     S.bbRounds = n==='4'?1:2;
   }
   card.querySelectorAll('input[type="checkbox"]:checked').forEach(cb=>{
     const cat=cb.dataset.cat;
     (S.chosen[cat]=S.chosen[cat]||[]).push(cb.value);
   });
   next();
 };
 return card;
}
function summary(){
 const sc=SCHEMES[S.scheme];
 let html='<div class="card"><h2 class="title">üèãÔ∏è Your Workout</h2>';
 html+='<p><strong>Scheme:</strong> '+S.scheme+' ‚Üí '+sc.sets+'x'+sc.reps+' @ '+sc.pct+'</p><ul>';
 Object.entries(S.chosen).forEach(([cat,list])=>{
   list.forEach(l=>{
     html+='<li>'+l+' ‚Äî '+pres(cat,S.scheme)+'</li>';
   });
 });
 html+='</ul>';
 if(S.chosen.bb) html+='<p><em>Complete '+S.bbRounds+' round(s) of chosen BB circuit.</em></p>';
 html+='<button class="next" onclick="start()">Start over</button></div>';
 app.innerHTML=html;
}
function start(){
 app.innerHTML='';
 app.appendChild(radio('1Ô∏è‚É£ Season?',[
   {t:'Off-Season',v:'off'},{t:'Pre-Season',v:'pre'},{t:'In-Season',v:'in'}
 ],'season',()=>{
   app.innerHTML='';
   app.appendChild(radio('2Ô∏è‚É£ Phase?',[
     {t:'Accumulation',v:'acc'},{t:'Transmutation',v:'trans'},
     {t:'Realisation',v:'real'},{t:'Maintenance',v:'main'}
   ],'phase',()=>{
     app.innerHTML='';
     app.appendChild(radio('3Ô∏è‚É£ Track?',[
       {t:'Speed/Power',v:'speed'},{t:'Strength',v:'strength'},
       {t:'Recovery',v:'recovery'},{t:'Endurance',v:'endurance'}
     ],'track',()=>{
       app.innerHTML='';
       let ops=[];
       if(S.track==='speed') ops=[{t:'Fresh',v:'RFD'},{t:'Somewhat fresh',v:'RFDP'},{t:'Tired',v:'BPD'}];
       else if(S.track==='strength') ops=[{t:'Heavy',v:'ASD'},{t:'Moderate',v:'ASC'}];
       else if(S.track==='recovery') ops=[{t:'Bodybuilding',v:'BB'}];
       else ops=[{t:'Maintain',v:'ASC'}];
       app.appendChild(radio('4Ô∏è‚É£ How do you feel?',ops,'scheme',()=>{
         const req=reqTable(S.phase,S.scheme);app.innerHTML='';
         app.appendChild(picker(req,summary));
       }));
     }));
   }));
 }));
}
document.addEventListener('DOMContentLoaded',start);
</script>
</body>
</html>
