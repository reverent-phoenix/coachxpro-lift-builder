<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CoachXPro Lift Builder ‚Äî Integrated Block</title>
  <style>
    :root { --red: #e10b0b; --gray: #f4f4f4; }
    #app, * { box-sizing: border-box; font-family: system-ui, sans-serif; }
    #app { max-width: 720px; margin: 2rem auto; padding: 1rem; }
    .card { background: var(--gray); border-radius: 1rem; padding: 1rem; margin-bottom: 1.25rem; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
    .title { font-weight: 600; margin-bottom: 0.5rem; }
    .options { display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.25rem; }
    .opt { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; border: 2px solid transparent; border-radius: 0.75rem; background: #fff; cursor: pointer; }
    .opt:hover { border-color: var(--red); }
    .opt input { accent-color: var(--red); }
    .opt input:checked + span { font-weight: 600; color: var(--red); }
    button.next { width: 100%; padding: 0.75rem; background: var(--red); color: #fff; font-weight: 600; border: none; border-radius: 0.75rem; margin-top: 1rem; }
    button.next:disabled { opacity: 0.5; }
    .cat-head { margin: 0.75rem 0 0.25rem; font-weight: 600; }
    .req { font-size: 0.8rem; opacity: 0.7; }
  </style>
</head>
<body>
  <div id="app"></div>
  <script>
    // ====== Data Arrays ======
    const BB_CIRCUITS={
 1:["Rotational Step‚ÄëUps (L-R)","Flys (use bench)","Lunges (L-R)","Lat Pulldown","Stooped Russian Twists w/stop at Center","V-Sits","Hanging Lateral Leg Lifts","Good Mornings","DB Alternating Toe Touches (L-R)","Twisting Sit-ups","Pullovers","Russian Twists (Hay Bales)"],
 2:["Lunge w/Twist","Single-Arm Bent Over Row","Weighted Crunches","Straight-Leg Deadlift","Arm Curls","Seated Shoulder Press","Lat Pulldown","DB Alternating Toes Touches","Dips","Hanging Leg Lifts","Push-ups w/Feet up","Back Hypers","Pullups (bar)"],
 3:["Russian Twists - Standing","Arm Curls","DB Lateral Flys","DB Alternating Toe Touches","Rotational Step-ups","Weighted Crunches","Inverted Row","Russian Twists w/lunge","Hanging Knee Raises","Single-Arm Bent Over Rows","Military Press","Straight Leg Deadlift","Weighted Back Hyper
","Hanging L‚Äôs"],
 4:["V-Sits","Hanging L's","Russian Twist - Overhead Twists","Seated Good Mornings","Seated DB Shoulder Press","Hanging Leg Lifts","Lat Pulldowns","Single-Arm Curls","Back Hyper w/Twist","Inverted Row","DB Alternating Toe Touch","Repeated Crossover Step Ups (L-R)","Weighted Crunches","Single-arm Bent Over Row","Military Press","Weighted Back Hyper","Toe Risers","Russian Twist Standing w/Bar","V-Sits","Hanging Lateral Knee Lifts"]
};
const REGIONAL=["Leg Curls","Leg Extensions","Half Leg Curls","Half Leg Extensions","Single-leg Curls","Single-leg Extensions","Lunges","Lunge Walks","Backward Lunge Walks","Twisting Lunges","Twisting Lunge Walks","Step-ups","Crossover Steps-ups","Straight Leg Deadlift","Windmills (small plates)","Back Hypers","Back Hypers w/ Twist","Hyper-Ups","Hanging Knee-Ups","Hanging Knee-Ups","Hanging Lateral Knee Lifts","Hanging Leg Lifts","Hanging Lateral Leg Lifts","Russian Twists (standing)","Russian Twists w/ Stop (standing)","Stooped Russian Twists","Stooped Russian Twists","Stooped Russian Twists w/ Stop","Weighted Sit-ups","Weighted Sit-ups w/ Twist","Weighted V-ups","Weighted Crunches","Weighted Crunches w/ Twist (one hand)","Alternating Weighted V-ups","Behind-the-Neck Pull-Downs","Rows","Behind-the-Neck Press","Dips","Dumbbell Flys","Supine Pullover","Diagonal Supine Pullover"];
const BALLISTIC=["Squat Jumps","Half Squat Jump","Lunge Jumps","Split Jumps","Step-up Jumps","Single-leg Rotational Jumps","Rep Jerks","Split Rep Jerks","Half Incline Press","Bench Press Throw","Med Ball Throws"];
const OLYMPIC=["Clean","Clean and Jerk","Snatch","Clean Pull From Floor","Clean Pull From Knee","Clean Pull From Thigh","Hang Pull From Shin","Hang Pull From Knee","Snatch Grip Pull From Floor","Snatch Grip Pull From Shin","Snatch Grip Pull From Knee","Snatch Grip Pull From Thigh","Hang Clean From Shin","Hang Clean From Knee","Hang Clean From Thigh","Power Clean","Power Clean and Jerk","Power Snatch","Split Clean","Split Snatch","Dumbbell Clean","Dumbbell Snatch","Hang Power Clean From Shin","Hang Power Clean From Knee","Hang Power Clean From Thigh"];
const STATIC=["Back Squat","Front Squat","Trap‚ÄëBar Deadlift","Conventional Deadlift","Split Squat (heavy)","Bench Press","Incline Bench","Weighted Pull‚Äëups","Military Press","Weighted Dips"];
const RS=["Continuous Hurdle Hops","Bounding Series","Single‚ÄëLeg Pogos","Overhead Back MB Heave"];
const LIFTS={static:STATIC,regional:REGIONAL,olympic:OLYMPIC,ballistic:BALLISTIC,rs:RS};

    const SCHEMES = {
      RFD: { sets: "5-9", reps: "1-2", pct: "90-100%", rest: "3-5 min" },
      RFDP: { sets: "4-9", reps: "2-4", pct: "70-85%", rest: "2-3 min" },
      BPD: { sets: "4-9", reps: "4-5", pct: "50-65%", rest: "2-3 min" },
      ASD: { sets: "4-8", reps: "1-5", pct: "80-100%", rest: "3-5 min" },
      ASC: { sets: "3-6", reps: "4-8", pct: "60-80%", rest: "2-3 min" },
      BB: { rest: "60-90 s" },
      RS: { sets: "3-8", reps: "5-12", pct: "BW-50%", rest: "1-2 min" }
    };

    let S = {};
    const app = document.getElementById("app");

    function reqTable(phase, sch) {
      const r = { static:0, regional:0, olympic:0, ballistic:0, rs:0, bb:0 };
      switch(phase) {
        case "acc":
          if(["ASD","ASC"].includes(sch)){ r.static=1; r.regional=1; }
          if(sch==="BPD") r.olympic=1;
          if(sch==="BB") r.bb=1;
          break;
        case "trans":
          if(["ASD","ASC"].includes(sch)) r.static=1;
          if(["RFDP","RFD"].includes(sch)){ r.olympic=1; r.ballistic=1; }
          if(sch==="RS") r.rs=2;
          r.regional=1;
          break;
        case "real":
          if(["RFD","RFDP"].includes(sch)){ r.olympic=1; r.ballistic=1; }
          if(sch==="ASC") r.static=1;
          break;
        case "main":
          if(sch==="BPD") r.olympic=1;
          if(sch==="RS"){ r.ballistic=1; r.rs=1; }
          break;
      }
      return r;
    }

    function pres(cat, sch) {
      if(cat==="bb") return "60-90 s rest";
      if(cat==="regional") return "3x8-10";
      if(cat==="ballistic") return "3x6 fast";
      if(cat==="rs") return SCHEMES.RS.sets + "x" + SCHEMES.RS.reps;
      const sc = SCHEMES[sch];
      return sc.sets + "x" + sc.reps + " @ " + sc.pct;
    }

    function radio(title, opts, key, next) {
      const card = document.createElement("div"); card.className="card";
      card.innerHTML = `<div class="title">${title}</div>`;
      const box = document.createElement("div"); box.className="options"; card.appendChild(box);
      opts.forEach(o => { box.insertAdjacentHTML("beforeend", `<label class="opt"><input type="radio" name="${key}" value="${o.v}"><span>${o.t}</span></label>`); });
      const btn = document.createElement("button"); btn.className="next"; btn.textContent="Next"; btn.disabled=true; card.appendChild(btn);
      card.addEventListener("change", () => btn.disabled=false);
      btn.onclick = () => { S[key] = card.querySelector("input:checked").value; next(); };
      return card;
    }

    function picker(req, next) {
      const card = document.createElement("div"); card.className="card";
      card.innerHTML = `<div class="title">5Ô∏è‚É£ Choose your lifts</div>`;
      if(req.bb) {
        card.insertAdjacentHTML("beforeend", `<p>Select a Bodybuilding circuit (60-90 s rest between exercises)</p>`);
        Object.entries(BB_CIRCUITS).forEach(([n, arr]) => {
          card.insertAdjacentHTML("beforeend", `<label class="opt"><input type="radio" name="bbc" value="${n}"><span>Circuit #${n} (${arr.length} exercises)</span></label>`);
        });
      }
      ["static","regional","olympic","ballistic","rs"].forEach(cat => {
        if(!req[cat]) return;
        card.insertAdjacentHTML("beforeend", `<div class="cat-head">${cat.toUpperCase()} <span class="req">(choose ${req[cat]})</span></div>`);
        const box = document.createElement("div"); box.className="options"; card.appendChild(box);
        LIFTS[cat].forEach(l => {
          box.insertAdjacentHTML("beforeend", `<label class="opt"><input type="checkbox" data-cat="${cat}" value="${l}"><span><a href="#" target="_blank">${l}</a></span></label>`);
        });
      });
      const btn = document.createElement("button"); btn.className="next"; btn.textContent="Finish"; btn.disabled=true; card.appendChild(btn);
      card.addEventListener("change", () => {
        let ok = !req.bb || !!card.querySelector("[name='bbc']:checked");
        const cnt = {}; Object.keys(req).forEach(k => cnt[k]=0);
        card.querySelectorAll("input[type='checkbox']:checked").forEach(cb => cnt[cb.dataset.cat]++);
        ok = ok && Object.keys(req).every(k => !req[k] || k==="bb" || cnt[k]===req[k]);
        btn.disabled = !ok;
      });
      btn.onclick = () => {
        S.chosen = {};
        if(req.bb) {
          const n = card.querySelector("[name='bbc']:checked").value;
          S.chosen.bb = BB_CIRCUITS[n];
          S.bbRounds = n==="4"?1:2;
        }
        card.querySelectorAll("input[type='checkbox']:checked").forEach(cb => {
          (S.chosen[cb.dataset.cat] = S.chosen[cb.dataset.cat]||[]).push(cb.value);
        });
        next();
      };
      return card;
    }

    function summary() {
      const sc = SCHEMES[S.scheme];
      let html = `<div class="card"><h2 class="title">üèãÔ∏è Your Workout</h2>`;
      if(sc.sets) html += `<p><strong>Scheme:</strong> ${S.scheme} ‚Üí ${sc.sets}${sc.reps?("x"+sc.reps+" @ "+sc.pct):""}</p>`;
      html += "<ul>";
      Object.entries(S.chosen).forEach(([cat, arr]) => arr.forEach(l => {
        html += `<li>${l} ‚Äî ${pres(cat, S.scheme)}</li>`;
      }));
      html += "</ul>";
      if(S.chosen.bb) html += `<p><em>Complete ${S.bbRounds} round(s) of chosen BB circuit.</em></p>`;
      html += `<button class="next" onclick="start()">Start over</button></div>`;
      app.innerHTML = html;
    }

    function start() {
      app.innerHTML = "";
      app.appendChild(radio("1Ô∏è‚É£ Season?", [
        {t:"Off-Season",v:" (Summer/break)"}, {t:"Pre-Season (Fall / early‚Äëwinter)",v:"pre"}, {t:"In-Season (competition)",v:"in"}
      ], "season", () => {
        app.innerHTML = "";
        app.appendChild(radio("2Ô∏è‚É£ Phase?", [
          {t:"Accumulation (General Preparation)",v:"acc"}, {t:"Transmutation (Specific Preparation)",v:"trans"},
          {t:"Realisation (Pre-Competition)",v:"real"}, {t:"Maintenance (Competition)",v:"main"}
        ], "phase", () => {
          app.innerHTML = "";
          app.appendChild(radio("3Ô∏è‚É£ Track?", [
            {t:"Speed / Power (sprinting, jumps, hard throws)",v:"speed"}, {t:"Strength / No Sprints",v:"strength"},
            {t:"Recovery / Tempo",v:"recovery"}, {t:"Endurance/Lactate",v:"endurance"}
          ], "track", () => {
            app.innerHTML = "";
            let opts = [];
            if(S.track==="speed") opts = [{t:"Fresh",v:"RFD"},{t:"Somewhat fresh",v:"RFDP"},{t:"Tired",v:"BPD"}];
            else if(S.track==="strength") opts = [{t:"Heavy",v:"ASD"},{t:"Moderate",v:"ASC"}];
            else if(S.track==="recovery") opts = [{t:"Bodybuilding",v:"BB"}];
            else opts = [{t:"Maintain",v:"ASC"}];
            app.appendChild(radio("4Ô∏è‚É£ How do you feel?", opts, "scheme", () => {
              const req = reqTable(S.phase, S.scheme);
              app.innerHTML = "";
              app.appendChild(picker(req, summary));
            }));
          }));
        }));
      }));
    }

    document.addEventListener("DOMContentLoaded", start);
  </script>
</body>
</html>
